<div *ngIf="vehicle$ | async as vehicle; else loading">
  <div class="row">
    <div class="col-lg-4">
      <!-- Default Card Example -->
      <div class="card mb-4">
<!--        <div class="card-header">-->
<!--          ВВТ: {{vehicle.name}}-->
<!--        </div>-->
        <div class="card-body">
          <img src="{{vehicle.vehiclePictures[0] === null? 'assets/backgr.jpg':vehicle.vehiclePictures[0].uri}}" style="max-width: 360px;">
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="card mb-6">
        <div class="card-header">
          ВВТ: {{vehicle.name}}
        </div>
        <div class="card-body">
          <mat-tab-group color="">
            <mat-tab label="Основное">
              <form [formGroup]="form" (ngSubmit)="ngSubmit()">
                <br>
                <div class="form-row">
                  <div class="col-lg-4">
                    <span>Наименование:</span>
                  </div>
                  <div class="col-lg-4">
                    <input type="text"
                           formControlName="name"
                           class="form-control form-control-user"
                           placeholder="имя справочника">
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-lg-4">
                    <span>Модель:</span>
                  </div>
                  <div class="col-lg-4">
                    <input type="text"
                           formControlName="model"
                           class="form-control form-control-user"
                           placeholder="имя справочника">
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-lg-4">
                    <span>Заводской номер:</span>
                  </div>
                  <div class="col-lg-4">
                    <input type="text"
                           formControlName="factoryNumber"
                           class="form-control form-control-user"
                           placeholder="имя справочника">
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-lg-4">
                    <span>Шасси:</span>
                  </div>
                  <div class="col-lg-4">
                    <input type="text"
                           formControlName="chassis"
                           class="form-control form-control-user"
                           placeholder="имя справочника">
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-lg-4">
                    <span>Состояние:</span>
                  </div>
                  <div class="col-lg-4">
                    <span> {{vehicle.condition.name}} </span>
                  </div>
                </div>


                <hr>

                <div formArrayName="fields">
                  <div *ngFor="let field of form.controls['fields']['controls']; let i = index">
                    <div [formGroupName]="i">
                      <div class="row">
                        <div class="col-lg-4">
                          <h3>
                            {{field.value['nameField']}}
                          </h3>
                        </div>
                        <div class="col-lg-4">
                          <input type="text"
                                 formControlName="valueData"
                                 class="form-group"
                                 class="form-control form-control-user" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-lg-4">
                    <button type="submit"
                            mdbBtn color="info"
                            block="true"
                            class="my-4 btn btn-primary btn-user btn-block">
                      Сохранить
                    </button>
                  </div>
                </div>
              </form>

            </mat-tab>
            <mat-tab label="Экипаж">Экипаж</mat-tab>
            <mat-tab label="Запчасти">Запчасти</mat-tab>
            <mat-tab label="История ремонтов">История ремонтов</mat-tab>
          </mat-tab-group>
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card mb-4">
        <div class="card-header">
          Документы
        </div>
        <div class="card-body">
          <ul>
            <li>
              <a href="" >Схема.doc</a>
            </li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>


<ng-template #loading>
  <app-preloader></app-preloader>
</ng-template>
